<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="google-site-verification" content="5__we87dnm3WTXhG3JsJwc-x77NWEFOP7aapAlnP1eY" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>××ª× ×—×ª× - ×¡×•×£ ×©×‘×•×¢ ×‘×˜×¢× ×™×”×•×“×™</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
  <style>
    /* ===== RESET & BASE ===== */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
      --brown:      #5C3317;
      --brown-dark: #3e2210;
      --brown-mid:  #7a4520;
      --gold:       #C8962E;
      --gold-light: #e6b04a;
      --gold-pale:  #f5e1b0;
      --cream:      #FFF8EE;
      --cream-dark: #f5eddb;
      --white:      #ffffff;
      --shadow:     rgba(92,51,23,.18);
      --r:          14px;
      --transition: .22s cubic-bezier(.4,0,.2,1);
    }
    html { scroll-behavior: smooth; }
    body {
      font-family: 'Heebo', sans-serif;
      background: var(--cream);
      color: var(--brown);
      direction: rtl;
      line-height: 1.6;
      min-height: 100vh;
    }

    /* ===== HEADER ===== */
    header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--brown);
      box-shadow: 0 3px 20px rgba(0,0,0,.35);
    }
    .header-inner {
      max-width: 1200px;
      margin: 0 auto;
      padding: 14px 20px;
      display: flex;
      align-items: center;
      gap: 16px;
    }
    .logo {
      width: 58px;
      height: 58px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--gold), var(--gold-light));
      border: 3px solid var(--gold-pale);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      flex-shrink: 0;
      box-shadow: 0 2px 12px rgba(200,150,46,.4);
    }
    .header-text h1 {
      font-size: 1.75rem;
      font-weight: 900;
      color: var(--gold-light);
      letter-spacing: .5px;
      line-height: 1.1;
    }
    .header-text p {
      font-size: .875rem;
      color: var(--gold-pale);
      font-weight: 400;
      opacity: .9;
    }

    /* ===== HERO STRIP ===== */
    .hero {
      background: linear-gradient(135deg, var(--brown-dark) 0%, var(--brown-mid) 60%, #9a6030 100%);
      color: var(--gold-pale);
      text-align: center;
      padding: 36px 20px 32px;
    }
    .hero h2 { font-size: 1.5rem; font-weight: 700; margin-bottom: 6px; }
    .hero p  { font-size: 1rem; opacity: .85; max-width: 520px; margin: 0 auto; }

    /* ===== MAIN LAYOUT ===== */
    main { max-width: 1200px; margin: 0 auto; padding: 28px 16px 60px; }

    /* ===== SECTION HEADING ===== */
    .category { margin-bottom: 48px; }
    .category-header {
      display: flex;
      align-items: baseline;
      gap: 12px;
      margin-bottom: 18px;
      flex-wrap: wrap;
    }
    .category-title {
      font-size: 1.45rem;
      font-weight: 800;
      color: var(--brown);
      position: relative;
      padding-bottom: 6px;
    }
    .category-title::after {
      content: '';
      position: absolute;
      bottom: 0; right: 0;
      width: 100%; height: 3px;
      background: linear-gradient(to left, var(--gold), transparent);
      border-radius: 2px;
    }
    .category-note {
      font-size: .82rem;
      color: var(--brown-mid);
      background: var(--gold-pale);
      border: 1px solid var(--gold);
      border-radius: 20px;
      padding: 3px 12px;
      font-weight: 500;
    }

    /* ===== PRODUCT GRID ===== */
    .product-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
    }
    @media (min-width: 600px)  { .product-grid { grid-template-columns: repeat(3, 1fr); } }
    @media (min-width: 900px)  { .product-grid { grid-template-columns: repeat(3, 1fr); gap: 20px; } }
    @media (min-width: 1100px) { .product-grid { grid-template-columns: repeat(4, 1fr); } }

    /* ===== PRODUCT CARD ===== */
    .card {
      background: var(--white);
      border-radius: var(--r);
      border: 1.5px solid var(--cream-dark);
      padding: 20px 16px 16px;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 8px;
      transition: transform var(--transition), box-shadow var(--transition), border-color var(--transition);
      cursor: default;
      position: relative;
      overflow: hidden;
    }
    .card::before {
      content: '';
      position: absolute;
      top: 0; right: 0; left: 0;
      height: 4px;
      background: linear-gradient(to left, var(--gold), var(--brown-mid));
      opacity: 0;
      transition: opacity var(--transition);
    }
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 32px var(--shadow);
      border-color: var(--gold);
    }
    .card:hover::before { opacity: 1; }

    .card-emoji { font-size: 2.6rem; line-height: 1; margin-bottom: 2px; }
    .card-name  { font-size: .95rem; font-weight: 700; color: var(--brown); line-height: 1.3; }
    .card-unit  { font-size: .78rem; color: #8a6540; font-weight: 400; }

    .card-price {
      font-size: 1.15rem;
      font-weight: 800;
      color: var(--gold);
      background: var(--gold-pale);
      border-radius: 20px;
      padding: 3px 14px;
      margin-top: 2px;
    }
    .card-price.tbd {
      font-size: .75rem;
      color: #8a6540;
      background: var(--cream-dark);
      font-weight: 500;
    }
    .card-sizes-preview {
      font-size: .73rem;
      color: #8a6540;
      line-height: 1.5;
      direction: rtl;
    }

    .btn-order {
      margin-top: auto;
      width: 100%;
      padding: 10px 0;
      border: none;
      border-radius: 8px;
      background: linear-gradient(135deg, var(--gold), var(--gold-light));
      color: var(--brown-dark);
      font-family: 'Heebo', sans-serif;
      font-size: .92rem;
      font-weight: 700;
      cursor: pointer;
      transition: background var(--transition), transform var(--transition), box-shadow var(--transition);
      box-shadow: 0 2px 8px rgba(200,150,46,.3);
    }
    .btn-order:hover {
      background: linear-gradient(135deg, var(--gold-light), var(--gold));
      transform: scale(1.02);
      box-shadow: 0 4px 14px rgba(200,150,46,.45);
    }
    .btn-order:active { transform: scale(.98); }

    /* ===== MODAL OVERLAY ===== */
    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(40,20,5,.6);
      backdrop-filter: blur(3px);
      z-index: 500;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
      opacity: 0;
      pointer-events: none;
      transition: opacity .25s;
    }
    .overlay.open { opacity: 1; pointer-events: all; }

    .modal {
      background: var(--white);
      border-radius: 20px;
      width: 100%;
      max-width: 420px;
      padding: 28px 24px 24px;
      position: relative;
      direction: rtl;
      box-shadow: 0 20px 60px rgba(0,0,0,.3);
      transform: scale(.92) translateY(20px);
      transition: transform .28s cubic-bezier(.34,1.56,.64,1);
    }
    .overlay.open .modal { transform: scale(1) translateY(0); }

    .modal-close {
      position: absolute;
      top: 14px;
      left: 14px;
      width: 34px; height: 34px;
      border: none;
      background: var(--cream-dark);
      border-radius: 50%;
      font-size: 1.1rem;
      cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      color: var(--brown);
      transition: background var(--transition);
    }
    .modal-close:hover { background: var(--gold-pale); }

    .modal-emoji { font-size: 3rem; text-align: center; display: block; margin-bottom: 6px; }
    .modal-title { font-size: 1.2rem; font-weight: 800; color: var(--brown); text-align: center; margin-bottom: 4px; }
    .modal-sub   { font-size: .82rem; color: #8a6540; text-align: center; margin-bottom: 20px; }

    /* Size buttons */
    .size-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-bottom: 20px;
    }
    .btn-size {
      border: 2px solid var(--cream-dark);
      background: var(--white);
      border-radius: 10px;
      padding: 12px 6px;
      cursor: pointer;
      font-family: 'Heebo', sans-serif;
      transition: all var(--transition);
      text-align: center;
    }
    .btn-size .size-label { font-size: .82rem; font-weight: 700; color: var(--brown); display: block; }
    .btn-size .size-price { font-size: 1rem; font-weight: 800; color: var(--gold); display: block; margin-top: 2px; }
    .btn-size:hover, .btn-size.selected {
      border-color: var(--gold);
      background: var(--gold-pale);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(200,150,46,.25);
    }

    /* Qty selector */
    .qty-row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 14px;
      margin-bottom: 14px;
    }
    .btn-qty {
      width: 44px; height: 44px;
      border: 2px solid var(--gold);
      background: var(--white);
      border-radius: 50%;
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--brown);
      cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      transition: background var(--transition), color var(--transition);
      font-family: 'Heebo', sans-serif;
    }
    .btn-qty:hover { background: var(--gold); color: var(--white); }
    .qty-value { font-size: 1.6rem; font-weight: 800; color: var(--brown); min-width: 36px; text-align: center; }
    .total-price {
      text-align: center;
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--brown);
      margin-bottom: 18px;
      padding: 10px;
      background: var(--gold-pale);
      border-radius: 10px;
    }
    .total-price span { color: var(--gold); font-size: 1.3rem; }

    /* TBD modal */
    .tbd-msg {
      text-align: center;
      padding: 10px 0 18px;
      font-size: .95rem;
      color: var(--brown-mid);
      line-height: 1.7;
    }
    .btn-wa {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      width: 100%;
      padding: 13px 0;
      border: none;
      border-radius: 10px;
      background: #25d366;
      color: #fff;
      font-family: 'Heebo', sans-serif;
      font-size: 1rem;
      font-weight: 700;
      cursor: pointer;
      transition: background var(--transition), transform var(--transition);
      text-decoration: none;
    }
    .btn-wa:hover { background: #1ebe5c; transform: scale(1.02); }
    .btn-confirm {
      display: block;
      width: 100%;
      padding: 13px 0;
      border: none;
      border-radius: 10px;
      background: linear-gradient(135deg, var(--gold), var(--gold-light));
      color: var(--brown-dark);
      font-family: 'Heebo', sans-serif;
      font-size: 1.05rem;
      font-weight: 800;
      cursor: pointer;
      transition: all var(--transition);
      box-shadow: 0 3px 12px rgba(200,150,46,.35);
    }
    .btn-confirm:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(200,150,46,.45); }
    .btn-confirm:disabled { opacity: .45; cursor: not-allowed; transform: none; }

    /* ===== TOAST ===== */
    .toast {
      position: fixed;
      bottom: 28px;
      left: 50%;
      transform: translateX(-50%) translateY(80px);
      background: var(--brown-dark);
      color: var(--gold-pale);
      padding: 14px 28px;
      border-radius: 30px;
      font-size: .95rem;
      font-weight: 600;
      z-index: 999;
      box-shadow: 0 6px 24px rgba(0,0,0,.3);
      transition: transform .35s cubic-bezier(.34,1.56,.64,1);
      white-space: nowrap;
    }
    .toast.show { transform: translateX(-50%) translateY(0); }

    /* ===== FOOTER ===== */
    footer {
      background: var(--brown-dark);
      color: var(--gold-pale);
      text-align: center;
      padding: 32px 20px;
      margin-top: 20px;
    }
    footer h3 { font-size: 1.1rem; font-weight: 800; margin-bottom: 8px; }
    footer p  { font-size: .85rem; opacity: .8; margin-bottom: 6px; }
    footer a  {
      color: var(--gold-light);
      font-weight: 700;
      text-decoration: none;
      border-bottom: 1px solid var(--gold);
      transition: color var(--transition);
    }
    footer a:hover { color: var(--white); }
    .footer-wa {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      margin: 10px 0;
      padding: 9px 22px;
      background: #25d366;
      color: #fff !important;
      border-radius: 25px;
      font-weight: 700;
      border-bottom: none !important;
    }
    .footer-wa:hover { background: #1ebe5c !important; color: #fff !important; }
    .divider {
      width: 60px;
      height: 2px;
      background: linear-gradient(to left, transparent, var(--gold), transparent);
      margin: 14px auto;
      border: none;
    }

    /* ===== SCROLLBAR ===== */
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: var(--cream); }
    ::-webkit-scrollbar-thumb { background: var(--gold); border-radius: 4px; }

    /* ===== MOBILE TWEAKS ===== */
    @media (max-width: 400px) {
      .header-text h1 { font-size: 1.4rem; }
      .size-grid { grid-template-columns: repeat(3,1fr); gap: 7px; }
    }
  </style>
</head>
<body>

<!-- ===== HEADER ===== -->
<header>
  <div class="header-inner">
    <div class="logo">ğŸ²</div>
    <div class="header-text">
      <h1>××ª× ×—×ª×</h1>
      <p>×¡×•×£ ×©×‘×•×¢ ×‘×˜×¢× ×™×”×•×“×™</p>
    </div>
  </div>
</header>

<!-- ===== HERO ===== -->
<div class="hero">
  <h2>ğŸ• ×‘×¨×•×›×™× ×”×‘××™× ×œ××ª× ×—×ª×</h2>
  <p>××•×›×œ ×‘×™×ª×™, ×˜×¢×™× ×•××¡×•×¨×ª×™ ×œ×©×‘×ª ×•×œ×—×’×™× â€“ ×™×©×™×¨×•×ª ××”××˜×‘×— ×©×œ× ×• ××œ ×”×©×•×œ×—×Ÿ ×©×œ×›×</p>
</div>

<!-- ===== MAIN ===== -->
<main id="catalog"></main>

<!-- ===== MODAL ===== -->
<div class="overlay" id="overlay" role="dialog" aria-modal="true">
  <div class="modal">
    <button class="modal-close" id="modalClose" aria-label="×¡×’×•×¨">âœ•</button>
    <span class="modal-emoji" id="modalEmoji"></span>
    <div class="modal-title" id="modalTitle"></div>
    <div class="modal-sub"  id="modalSub"></div>
    <div id="modalBody"></div>
  </div>
</div>

<!-- ===== TOAST ===== -->
<div class="toast" id="toast"></div>

<!-- ===== FOOTER ===== -->
<footer>
  <h3>ğŸ² ××ª× ×—×ª× - ×¡×•×£ ×©×‘×•×¢ ×‘×˜×¢× ×™×”×•×“×™</h3>
  <hr class="divider" />
  <p>×œ×”×–×× ×•×ª ×‘×•×•××˜×¡××¤:</p>
  <a class="footer-wa" id="footerWa" href="#" target="_blank" rel="noopener">
    <svg width="20" height="20" viewBox="0 0 32 32" fill="currentColor"><path d="M16 0C7.163 0 0 7.163 0 16c0 2.82.736 5.47 2.027 7.77L0 32l8.437-2.01A15.93 15.93 0 0016 32c8.837 0 16-7.163 16-16S24.837 0 16 0zm0 29.3a13.27 13.27 0 01-6.77-1.848l-.485-.29-5.007 1.194 1.215-4.878-.316-.5A13.257 13.257 0 012.7 16C2.7 8.66 8.66 2.7 16 2.7S29.3 8.66 29.3 16 23.34 29.3 16 29.3zm7.27-9.97c-.398-.2-2.355-1.16-2.72-1.293-.365-.133-.63-.2-.895.2-.266.398-1.028 1.293-1.26 1.56-.232.265-.464.298-.862.1-.398-.2-1.68-.62-3.2-1.977-1.183-1.057-1.98-2.362-2.213-2.76-.232-.398-.025-.614.175-.812.18-.178.398-.465.597-.697.2-.233.266-.4.4-.665.133-.266.066-.498-.033-.697-.1-.2-.895-2.16-1.227-2.956-.323-.777-.65-.672-.895-.684l-.762-.013c-.266 0-.697.1-1.063.498-.365.398-1.393 1.36-1.393 3.32s1.426 3.85 1.625 4.116c.2.265 2.808 4.29 6.805 5.99.952.41 1.694.655 2.273.838.955.303 1.824.26 2.51.158.766-.114 2.355-.963 2.688-1.893.333-.93.333-1.728.233-1.893-.1-.166-.365-.266-.763-.465z"/></svg>
    ×œ×—×¥ ×›××Ÿ ×œ×”×–×× ×”
  </a>
  <hr class="divider" />
  <p style="font-size:.78rem;opacity:.6;">Â© 2025 ×›×œ ×”×–×›×•×™×•×ª ×©××•×¨×•×ª Â· ××ª× ×—×ª×</p>
</footer>

<!-- ===== SCRIPT ===== -->
<script>
/* ================================================
   CONFIGURATION â€“ Edit here freely
   ================================================ */
const WHATSAPP = "972533235330"; // â† replace with real number (digits only)

const categories = [
  {
    name: "ğŸ² ×˜×©×•×œ× ×˜",
    products: [
      { name: "×˜×©×•×œ× ×˜ ×‘×©×¨×™ - ×œ×™×˜×¨",       price: 90, unit: "×œ×™×˜×¨",       emoji: "ğŸ²" },
      { name: "×˜×©×•×œ× ×˜ ×‘×©×¨×™ - ×—×¦×™ ×œ×™×˜×¨",   price: 45, unit: "×—×¦×™ ×œ×™×˜×¨",  emoji: "ğŸ²" },
      { name: "×˜×©×•×œ× ×˜ ×‘×©×¨×™ - ×¨×‘×¢ ×œ×™×˜×¨",   price: 25, unit: "×¨×‘×¢ ×œ×™×˜×¨",  emoji: "ğŸ²" }
    ]
  },
  {
    name: "ğŸ¥§ ×§×•×’×œ ×•×‘×©×¨×™×",
    note: "××—×™×¨ ×œ×¤×™ ××©×§×œ â€“ ×§×˜× ×” 30â‚ª / ×‘×™× ×•× ×™×ª 50â‚ª / ×’×“×•×œ×” 70â‚ª",
    products: [
      { name: "×§×•×’×œ ×ª×¤×•×— ××“××”",      pricePerUnit: "7â‚ª ×œ-100g",  sizes: [{label:"×§×˜× ×” ~430g", price:30},{label:"×‘×™× ×•× ×™×ª ~715g", price:50},{label:"×’×“×•×œ×” ~1kg",  price:70}], emoji: "ğŸ¥”" },
      { name: "×™××¤×¦×§ ×§×•×’×œ ×¢× ×‘×©×¨",   pricePerUnit: "13â‚ª ×œ-100g", sizes: [{label:"×§×˜× ×” ~230g", price:30},{label:"×‘×™× ×•× ×™×ª ~385g", price:50},{label:"×’×“×•×œ×” ~540g", price:70}], emoji: "ğŸ¥©" },
      { name: "××¡××“×•",               pricePerUnit: "23â‚ª ×œ-100g", sizes: [{label:"×§×˜× ×” ~130g", price:30},{label:"×‘×™× ×•× ×™×ª ~215g", price:50},{label:"×’×“×•×œ×” ~300g", price:70}], emoji: "ğŸ¥©" },
      { name: "×§×•×¨× ×‘×™×£ / ×‘×©×¨ ××¢×•×©×Ÿ", pricePerUnit: "23â‚ª ×œ-100g", sizes: [{label:"×§×˜× ×” ~130g", price:30},{label:"×‘×™× ×•× ×™×ª ~215g", price:50},{label:"×’×“×•×œ×” ~300g", price:70}], emoji: "ğŸ”¥" },
      { name: "×©× ×™×¦×œ×•× ×™×",           pricePerUnit: "16â‚ª ×œ-100g", sizes: [{label:"×§×˜× ×” ~190g", price:30},{label:"×‘×™× ×•× ×™×ª ~315g", price:50},{label:"×’×“×•×œ×” ~440g", price:70}], emoji: "ğŸ—" }
    ]
  },
  {
    name: "ğŸ ×œ×—×× ×™×™×” ×•×™×–'× ×™×¥",
    products: [
      { name: "×œ×—×× ×™×™×”",    price: 5,  unit: "×™×—×™×“×”", emoji: "ğŸ" },
      { name: "×—×¦×™ ×—×œ×”",   price: 12, unit: "×—×¦×™",   emoji: "ğŸ¥–" },
      { name: "×—×œ×” ×©×œ××”",  price: 20, unit: "×©×œ××”",  emoji: "ğŸ¥–" }
    ]
  },
  {
    name: "ğŸ¥— ×¡×œ×˜×™×",
    products: [
      { name: "×˜×—×™× ×”",     price: 4,  unit: "×× ×”", emoji: "ğŸ«™" },
      { name: "×›×‘×“",       price: 20, unit: "×× ×”", emoji: "ğŸ«™" },
      { name: "×§×•×œ×¡×œ×•",   price: 8,  unit: "×× ×”", emoji: "ğŸ¥—" },
      { name: "×¡×—×•×’ ×§×˜×Ÿ",  price: 2,  unit: "×× ×”", emoji: "ğŸŒ¶ï¸" },
      { name: "×¡×—×•×’ ×’×“×•×œ", price: 10, unit: "×× ×”", emoji: "ğŸŒ¶ï¸" }
    ]
  },
  {
    name: "ğŸ¥¤ ×©×ª×™×™×”",
    products: [
      { name: "×‘×§×‘×•×§ ×©×ª×™×™×”", price: 10, unit: "×‘×§×‘×•×§", emoji: "ğŸ¥¤" },
      { name: "×¤×—×™×ª",        price:  8, unit: "×¤×—×™×ª",  emoji: "ğŸ¥«" },
      { name: "×‘×™×¨×”",        price: 14, unit: "×‘×§×‘×•×§", emoji: "ğŸº" }
    ]
  },
  {
    name: "âœ¨ ××™×•×—×“×™×",
    products: [
      { name: "××©×•×œ×© ×§×•×’×œ ××˜×¨×™×•×ª", price: 5, unit: "×™×—×™×“×”", emoji: "ğŸœ" }
    ]
  }
];

/* ================================================
   HELPERS
   ================================================ */
const waLink = (msg) =>
  `https://wa.me/${WHATSAPP}?text=${encodeURIComponent(msg)}`;

function showToast(msg, dur = 3000) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), dur);
}

/* ================================================
   BUILD CATALOG
   ================================================ */
(function buildCatalog() {
  const main = document.getElementById('catalog');
  categories.forEach(cat => {
    const sec = document.createElement('section');
    sec.className = 'category';

    // Heading row
    const hdr = document.createElement('div');
    hdr.className = 'category-header';
    const title = document.createElement('h2');
    title.className = 'category-title';
    title.textContent = cat.name;
    hdr.appendChild(title);
    if (cat.note) {
      const note = document.createElement('span');
      note.className = 'category-note';
      note.textContent = cat.note;
      hdr.appendChild(note);
    }
    sec.appendChild(hdr);

    // Grid
    const grid = document.createElement('div');
    grid.className = 'product-grid';

    cat.products.forEach(prod => {
      grid.appendChild(buildCard(prod));
    });
    sec.appendChild(grid);
    main.appendChild(sec);
  });
})();

function buildCard(prod) {
  const isTBD    = prod.price === 0 && !prod.sizes;
  const hasSizes = !!prod.sizes;

  const card = document.createElement('div');
  card.className = 'card';

  // Emoji
  const em = document.createElement('div'); em.className = 'card-emoji'; em.textContent = prod.emoji;
  card.appendChild(em);

  // Name
  const nm = document.createElement('div'); nm.className = 'card-name'; nm.textContent = prod.name;
  card.appendChild(nm);

  // Price / sizes preview
  if (hasSizes) {
    const pp = document.createElement('div'); pp.className = 'card-unit'; pp.textContent = prod.pricePerUnit;
    card.appendChild(pp);
    const preview = document.createElement('div');
    preview.className = 'card-sizes-preview';
    preview.innerHTML = prod.sizes.map(s => `${s.label} â€“ <b>${s.price}â‚ª</b>`).join('<br>');
    card.appendChild(preview);
  } else if (isTBD) {
    const pr = document.createElement('div'); pr.className = 'card-price tbd'; pr.textContent = '××—×™×¨ ×‘×§×¨×•×‘';
    card.appendChild(pr);
  } else {
    const un = document.createElement('div'); un.className = 'card-unit'; un.textContent = prod.unit;
    card.appendChild(un);
    const pr = document.createElement('div'); pr.className = 'card-price'; pr.textContent = `${prod.price}â‚ª`;
    card.appendChild(pr);
  }

  // Button
  const btn = document.createElement('button');
  btn.className = 'btn-order';
  btn.textContent = '×”×–××Ÿ ğŸ›’';
  btn.addEventListener('click', () => openModal(prod));
  card.appendChild(btn);

  return card;
}

/* ================================================
   MODAL
   ================================================ */
const overlay    = document.getElementById('overlay');
const modalClose = document.getElementById('modalClose');
const modalEmoji = document.getElementById('modalEmoji');
const modalTitle = document.getElementById('modalTitle');
const modalSub   = document.getElementById('modalSub');
const modalBody  = document.getElementById('modalBody');

modalClose.addEventListener('click', closeModal);
overlay.addEventListener('click', e => { if (e.target === overlay) closeModal(); });
document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });

function closeModal() {
  overlay.classList.remove('open');
  document.body.style.overflow = '';
}
function openModal(prod) {
  document.body.style.overflow = 'hidden';
  modalEmoji.textContent = prod.emoji;
  modalTitle.textContent = prod.name;
  modalBody.innerHTML    = '';

  if (prod.sizes) {
    // Size selector modal
    modalSub.textContent = prod.pricePerUnit;
    let selectedSize = null;

    const grid = document.createElement('div');
    grid.className = 'size-grid';
    prod.sizes.forEach(size => {
      const btn = document.createElement('button');
      btn.className = 'btn-size';
      btn.innerHTML = `<span class="size-label">${size.label}</span><span class="size-price">${size.price}â‚ª</span>`;
      btn.addEventListener('click', () => {
        grid.querySelectorAll('.btn-size').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        selectedSize = size;
        confirm.disabled = false;
      });
      grid.appendChild(btn);
    });
    modalBody.appendChild(grid);

    const confirm = document.createElement('button');
    confirm.className = 'btn-confirm';
    confirm.textContent = '××™×©×•×¨ ×•×”×–×× ×” ×‘×•×•××˜×¡××¤ âœ…';
    confirm.disabled = true;
    confirm.addEventListener('click', () => {
      if (!selectedSize) return;
      const msg = `×©×œ×•×! ×× ×™ ×¨×•×¦×” ×œ×”×–××™×Ÿ ×××ª× ×—×ª×:\nğŸ›’ ${prod.name}\nğŸ“¦ ×× ×”: ${selectedSize.label}\nğŸ’° ××—×™×¨: ${selectedSize.price}â‚ª\n×ª×•×“×”!`;
      showToast('âœ… ××¢×‘×™×¨ ××•×ª×š ×œ×•×•××˜×¡××¤...');
      closeModal();
      setTimeout(() => window.open(waLink(msg), '_blank'), 400);
    });
    modalBody.appendChild(confirm);

  } else if (prod.price === 0) {
    // TBD modal
    modalSub.textContent = '';
    const msg = document.createElement('div');
    msg.className = 'tbd-msg';
    msg.innerHTML = 'â³ ×”××—×™×¨ ×™×¢×•×“×›×Ÿ ×‘×§×¨×•×‘<br>× ×™×ª×Ÿ ×œ×©××•×œ ×™×©×™×¨×•×ª ×‘×•×•××˜×¡××¤';
    modalBody.appendChild(msg);

    const waBtn = document.createElement('a');
    waBtn.className = 'btn-wa';
    waBtn.href = waLink(`×©×œ×•×! ×× ×™ ××ª×¢× ×™×™×Ÿ ×‘${prod.name} â€“ ×”×× ×”××—×™×¨ ×›×‘×¨ ×–××™×Ÿ? ×ª×•×“×”!`);
    waBtn.target = '_blank';
    waBtn.rel = 'noopener';
    waBtn.innerHTML = `<svg width="18" height="18" viewBox="0 0 32 32" fill="currentColor"><path d="M16 0C7.163 0 0 7.163 0 16c0 2.82.736 5.47 2.027 7.77L0 32l8.437-2.01A15.93 15.93 0 0016 32c8.837 0 16-7.163 16-16S24.837 0 16 0zm0 29.3a13.27 13.27 0 01-6.77-1.848l-.485-.29-5.007 1.194 1.215-4.878-.316-.5A13.257 13.257 0 012.7 16C2.7 8.66 8.66 2.7 16 2.7S29.3 8.66 29.3 16 23.34 29.3 16 29.3zm7.27-9.97c-.398-.2-2.355-1.16-2.72-1.293-.365-.133-.63-.2-.895.2-.266.398-1.028 1.293-1.26 1.56-.232.265-.464.298-.862.1-.398-.2-1.68-.62-3.2-1.977-1.183-1.057-1.98-2.362-2.213-2.76-.232-.398-.025-.614.175-.812.18-.178.398-.465.597-.697.2-.233.266-.4.4-.665.133-.266.066-.498-.033-.697-.1-.2-.895-2.16-1.227-2.956-.323-.777-.65-.672-.895-.684l-.762-.013c-.266 0-.697.1-1.063.498-.365.398-1.393 1.36-1.393 3.32s1.426 3.85 1.625 4.116c.2.265 2.808 4.29 6.805 5.99.952.41 1.694.655 2.273.838.955.303 1.824.26 2.51.158.766-.114 2.355-.963 2.688-1.893.333-.93.333-1.728.233-1.893-.1-.166-.365-.266-.763-.465z"/></svg>
    ×©××œ ×‘×•×•××˜×¡××¤`;
    waBtn.addEventListener('click', () => { showToast('âœ… ××¢×‘×™×¨ ××•×ª×š ×œ×•×•××˜×¡××¤...'); closeModal(); });
    modalBody.appendChild(waBtn);

  } else {
    // Quantity modal
    modalSub.textContent = `${prod.unit}`;
    let qty = 1;

    const qtyRow = document.createElement('div');
    qtyRow.className = 'qty-row';

    const btnMinus = document.createElement('button');
    btnMinus.className = 'btn-qty'; btnMinus.textContent = 'âˆ’';

    const qtyVal = document.createElement('div');
    qtyVal.className = 'qty-value'; qtyVal.textContent = '1';

    const btnPlus = document.createElement('button');
    btnPlus.className = 'btn-qty'; btnPlus.textContent = '+';

    qtyRow.append(btnPlus, qtyVal, btnMinus);
    modalBody.appendChild(qtyRow);

    const totalDiv = document.createElement('div');
    totalDiv.className = 'total-price';
    const updateTotal = () => {
      totalDiv.innerHTML = `×¡×”"×›: <span>${qty * prod.price}â‚ª</span>`;
      qtyVal.textContent = qty;
    };
    updateTotal();
    modalBody.appendChild(totalDiv);

    btnPlus.addEventListener('click',  () => { if (qty < 20) { qty++; updateTotal(); } });
    btnMinus.addEventListener('click', () => { if (qty >  1) { qty--; updateTotal(); } });

    const confirm = document.createElement('button');
    confirm.className = 'btn-confirm';
    confirm.textContent = '××™×©×•×¨ ×•×”×–×× ×” ×‘×•×•××˜×¡××¤ âœ…';
    confirm.addEventListener('click', () => {
      const total = qty * prod.price;
      const msg   = `×©×œ×•×! ×× ×™ ×¨×•×¦×” ×œ×”×–××™×Ÿ ×××ª× ×—×ª×:\nğŸ›’ ${prod.name}\nğŸ“¦ ×›××•×ª: ${qty} ${prod.unit}\nğŸ’° ×¡×”"×›: ${total}â‚ª\n×ª×•×“×”!`;
      showToast('âœ… ××¢×‘×™×¨ ××•×ª×š ×œ×•×•××˜×¡××¤...');
      closeModal();
      setTimeout(() => window.open(waLink(msg), '_blank'), 400);
    });
    modalBody.appendChild(confirm);
  }

  overlay.classList.add('open');
}

/* ================================================
   FOOTER WHATSAPP LINK
   ================================================ */
document.getElementById('footerWa').href =
  waLink('×©×œ×•×! ×× ×™ ×¨×•×¦×” ×œ×‘×¦×¢ ×”×–×× ×” ×××ª× ×—×ª× ğŸ²');
</script>
</body>
</html>
